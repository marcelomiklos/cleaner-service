


# Cleaner-service - Introdução ao Spring Boot - Tech Challenger FIAP 01 - 2024

Este projeto tem como base desenvolvimento de atividades na ementa do primeiro ciclo da pós-graduação FIAP, com o objetivo de ensinar os conceitos fundamentais do Spring Boot e suas funcionalidades. O projeto aborda vários aspectos importantes do desenvolvimento de aplicativos Java, incluindo a criação de uma API REST, integração com banco de dados usando Spring Data JPA, validação de entrada de dados com Spring Validation, testes unitários e de integração.

![Fluxo de teste](https://github.com/marcelomiklos/cleaner-service/blob/dev/fluxos-de-tests/fluxo-teste-0.png)

## Visão Geral

Neste projeto de exemplo, exploramos os seguintes tópicos:

### O que é o Spring Boot?

O Spring Boot é um projeto do ecossistema Spring que simplifica o desenvolvimento de aplicativos Java. Ele fornece um ambiente de execução independente com configuração automática, facilitando a criação de aplicativos robustos e altamente configuráveis. Com o Spring Boot, é possível criar rapidamente aplicativos Java de alta qualidade com menos esforço em configuração.

### O que é uma API REST?

Uma API REST (Representational State Transfer) é um estilo arquitetural para projetar redes com base no protocolo HTTP. Ela usa métodos HTTP (como GET, POST, PUT e DELETE) para realizar operações em recursos, que podem ser representados em diferentes formatos, como JSON ou XML. As APIs REST são amplamente usadas para criar serviços web simples e eficazes, normalmente atrelados a modelo CRUD.

### Spring Data JPA com Banco de Dados H2

Neste projeto, utilizamos o Spring Data JPA para simplificar a interação com o banco de dados. O banco de dados H2 foi escolhido como um banco de dados em memória para fins de demonstração. O Spring Data JPA oferece uma maneira elegante de definir e executar consultas SQL sem a necessidade de escrever código SQL manualmente e permitir o trabalho de nossa API Rest junto ao modelo CRUD.

### Spring Validation

O Spring Validation é uma parte essencial do Spring Framework que permite validar os dados de entrada em seus aplicativos. Ele oferece anotações (como `@NotNull`, `@Size`, `@Email`, etc.) para aplicar regras de validação aos campos de entrada, garantindo que os dados estejam corretos antes de serem processados.


### Relacionamentos Many-to-Many, Many-to-One e One-to-One

Foi criado e demonstrado 1 tipo de relacionamentos de entidade no projeto:

- **One-to-One:** Este relacionamento envolve uma única instância de uma entidade associada a uma única instância de outra entidade. Por exemplo, um aluno pode ter apenas um registro de endereço e vice-versa.

## Scripts para criação de tabelas 

```
CREATE TABLE tasks
(
    id          BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    title       VARCHAR(255)                            NOT NULL,
    description VARCHAR(255)                            NOT NULL,
    dead_line   TIMESTAMP                               NOT NULL,
    created_at  TIMESTAMP                               NOT NULL,
    updated_at  TIMESTAMP,
    CONSTRAINT pk_tasks PRIMARY KEY (id)
);

CREATE TABLE client
(
    client_id                 BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name                      VARCHAR(255)                            NOT NULL,
    cpf                       VARCHAR(255)                            NOT NULL,
    created_at                TIMESTAMP                               NOT NULL,
    updated_at                TIMESTAMP,
    client_id_tasks_client_id BIGINT,
    CONSTRAINT pk_client PRIMARY KEY (client_id)
);

ALTER TABLE client
    ADD CONSTRAINT uc_client_client_id_tasks_client UNIQUE (client_id_tasks_client_id);

CREATE INDEX idx_client_client_id_name_cpf ON client (client_id, name, cpf);

ALTER TABLE client
    ADD CONSTRAINT FK_CLIENT_ON_CLIENT_ID_TASKS_CLIENT FOREIGN KEY (client_id_tasks_client_id) REFERENCES client (client_id);


```

### Testes

Abaixo foram disponibilizados todos os fluxos de testes mapeados:

![Fluxo de teste](https://github.com/marcelomiklos/cleaner-service/blob/dev/fluxos-de-tests/fluxo-teste-01.png)
![Fluxo de teste](https://github.com/marcelomiklos/cleaner-service/blob/dev/fluxos-de-tests/fluxo-teste-02.png)
![Fluxo de teste](https://github.com/marcelomiklos/cleaner-service/blob/dev/fluxos-de-tests/fluxo-teste-03.png)
![Fluxo de teste](https://github.com/marcelomiklos/cleaner-service/blob/dev/fluxos-de-tests/fluxo-teste-04.png)
![Fluxo de teste](https://github.com/marcelomiklos/cleaner-service/blob/dev/fluxos-de-tests/fluxo-teste-05.png)
![Fluxo de teste](https://github.com/marcelomiklos/cleaner-service/blob/dev/fluxos-de-tests/fluxo-teste-06.png)
![Fluxo de teste](https://github.com/marcelomiklos/cleaner-service/blob/dev/fluxos-de-tests/fluxo-teste-07.png)
![Fluxo de teste](https://github.com/marcelomiklos/cleaner-service/blob/dev/fluxos-de-tests/fluxo-teste-08.png)
![Fluxo de teste](https://github.com/marcelomiklos/cleaner-service/blob/dev/fluxos-de-tests/fluxo-teste-09.png)